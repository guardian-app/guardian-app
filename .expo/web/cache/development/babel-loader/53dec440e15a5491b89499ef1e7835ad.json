{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\PROJECTS\\\\group project 2\\\\projectApp\\\\guardian-mobile\\\\components\\\\login\\\\temp2.js\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport View from \"react-native-web/dist/exports/View\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { Actions, ActionConst } from 'react-native-router-flux';\nimport { Button, ThemeProvider } from 'react-native-elements';\nimport { connect } from \"react-redux\";\nimport 'localstorage-polyfill';\nimport UserInput from \"./UserInput\";\nimport usernameImg from \"../../image/username.png\";\nimport passwordImg from \"../../image/password.png\";\nimport eyeImg from \"../../image/eye_black.png\";\nimport spinner from \"../../image/loading.gif\";\nvar MARGIN = 40;\n\nvar Temp = function (_Component) {\n  _inherits(Temp, _Component);\n\n  var _super = _createSuper(Temp);\n\n  function Temp() {\n    var _this;\n\n    _classCallCheck(this, Temp);\n\n    _this = _super.call(this);\n    _this.state = {\n      isLoading: false,\n      showPass: true,\n      press: false,\n      Username: '',\n      Password: \"\"\n    };\n    _this.buttonAnimated = new Animated.Value(0);\n    _this.growAnimated = new Animated.Value(0);\n    _this._onPress = _this._onPress.bind(_assertThisInitialized(_this));\n    _this._forgot = _this._forgot.bind(_assertThisInitialized(_this));\n    _this.showPass = _this.showPass.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Temp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (localStorage.getItem(\"key2\")) {\n        Actions.Location2();\n      }\n    }\n  }, {\n    key: \"showPass\",\n    value: function showPass() {\n      this.state.press === false ? this.setState({\n        showPass: false,\n        press: true\n      }) : this.setState({\n        showPass: true,\n        press: false\n      });\n    }\n  }, {\n    key: \"_forgot\",\n    value: function _forgot() {\n      console.log('call');\n      var Username = this.state.Username;\n      console.log(Username);\n      console.log('pppppppp');\n    }\n  }, {\n    key: \"_onPress\",\n    value: function _onPress() {\n      console.log('fuck');\n      console.log(\"username: \", this.state.Username);\n      console.log(\"password: \", this.state.Password);\n      if (this.state.isLoading) return;\n      var email_address = this.state.Username;\n      var password = this.state.Password;\n      var Username = this.state.Username;\n      var Password = this.state.Password;\n      fetch(\"http://192.168.43.133:3000/users/authenticate\", {\n        method: \"POST\",\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          password: Password,\n          email_address: Username\n        })\n      }).then(function (response) {\n        console.log(\"ttttttttttttttttttt\");\n        console.log(response.status);\n\n        if (response.status == 404) {\n          console.log('comeeeeeee');\n          Alert.alert(\"Login Failed\", \"E-mail address is not registered!\", [{\n            text: \"OK\",\n            onPress: function onPress() {\n              Actions.LoginScreen();\n            }\n          }]);\n        }\n\n        if (response.status == 401) {\n          console.log('failed2');\n          Alert.alert(\"Login Failed\", \"Incorrect password!\", [{\n            text: \"OK\",\n            onPress: function onPress() {\n              Actions.LoginScreen();\n            }\n          }]);\n        } else {\n          return response;\n        }\n      }).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        console.log('Request succeeded with JSON response:', json.token);\n        localStorage.setItem(\"key2\", json.token);\n        var value = localStorage.getItem(\"key2\");\n        console.log(value);\n\n        try {\n          value = JSON.parse(value);\n          console.log(value);\n        } catch (e) {\n          console.log(value);\n        }\n\n        console.log('key');\n        console.log(value);\n        Alert.alert(\"Login Successful\", \"\", [{\n          text: \"OK\",\n          onPress: function onPress() {\n            Actions.Location2();\n          }\n        }]);\n      }).catch(function (error) {\n        console.log('Request failed:', error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var changeWidth = this.buttonAnimated.interpolate({\n        inputRange: [0, 1],\n        outputRange: [200 - MARGIN, MARGIN]\n      });\n      var changeScale = this.growAnimated.interpolate({\n        inputRange: [0, 1],\n        outputRange: [1, MARGIN]\n      });\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 7\n        }\n      }, React.createElement(KeyboardAvoidingView, {\n        behavior: \"padding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 9\n        }\n      }, React.createElement(UserInput, {\n        style: {\n          paddingTop: 1,\n          margin: 1\n        },\n        source: usernameImg,\n        placeholder: \"Username\",\n        autoCapitalize: 'none',\n        returnKeyType: 'done',\n        autoCorrect: false,\n        onChangeText: function onChangeText(Username) {\n          return _this2.setState({\n            Username: Username\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 9\n        }\n      }), React.createElement(UserInput, {\n        source: passwordImg,\n        secureTextEntry: this.state.showPass,\n        placeholder: \"Password\",\n        returnKeyType: 'done',\n        autoCapitalize: 'none',\n        autoCorrect: false,\n        onChangeText: function onChangeText(Password) {\n          return _this2.setState({\n            Password: Password\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 9\n        }\n      }), React.createElement(TouchableOpacity, {\n        activeOpacity: 0.7,\n        style: styles.btnEye,\n        onPress: this.showPass,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 9\n        }\n      }, React.createElement(Image, {\n        source: eyeImg,\n        style: styles.iconEye,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }\n      }))), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 9\n        }\n      }, React.createElement(Animated.View, {\n        style: {\n          width: changeWidth\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.button1,\n        onPress: this._onPress,\n        activeOpacity: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }\n      }, this.state.isLoading ? React.createElement(Image, {\n        source: spinner,\n        style: styles.image1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }\n      }) : React.createElement(Text, {\n        style: styles.text1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 17\n        }\n      }, \"LOGIN\")), React.createElement(Animated.View, {\n        style: [styles.circle1, {\n          transform: [{\n            scale: changeScale\n          }]\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }\n      }))), React.createElement(View, {\n        style: styles.forgot,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 9\n        }\n      }, React.createElement(ThemeProvider, {\n        theme: theme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }\n      }, React.createElement(Button, {\n        type: \"clear\",\n        title: \"Forgot Password?\",\n        onPress: this._forgot,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }\n      }))));\n    }\n  }]);\n\n  return Temp;\n}(Component);\n\nexport { Temp as default };\nvar theme = {\n  Button: {\n    titleStyle: {\n      color: 'white'\n    }\n  }\n};\nvar styles = StyleSheet.create({\n  container1: {\n    flex: 1,\n    top: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-start'\n  },\n  button1: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#F035E0',\n    height: MARGIN,\n    borderRadius: 20,\n    zIndex: 100\n  },\n  circle1: {\n    height: MARGIN,\n    width: MARGIN,\n    marginTop: -MARGIN,\n    borderWidth: 1,\n    borderColor: '#F035E0',\n    borderRadius: 100,\n    alignSelf: 'center',\n    zIndex: 99,\n    backgroundColor: '#F035E0'\n  },\n  text1: {\n    color: 'white',\n    backgroundColor: 'transparent'\n  },\n  image1: {\n    width: 24,\n    height: 24\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    margin: 0,\n    paddingBottom: 180,\n    paddingTop: 50\n  },\n  btnEye: {\n    position: 'absolute',\n    top: 86,\n    right: 28\n  },\n  iconEye: {\n    width: 25,\n    height: 25,\n    tintColor: 'rgba(0,0,0,0.2)'\n  },\n  forgot: {\n    paddingTop: 40\n  }\n});","map":{"version":3,"sources":["D:/PROJECTS/group project 2/projectApp/guardian-mobile/components/login/temp2.js"],"names":["React","Component","PropTypes","Actions","ActionConst","Button","ThemeProvider","connect","UserInput","usernameImg","passwordImg","eyeImg","spinner","MARGIN","Temp","state","isLoading","showPass","press","Username","Password","buttonAnimated","Animated","Value","growAnimated","_onPress","bind","_forgot","localStorage","getItem","Location2","setState","console","log","email_address","password","fetch","method","headers","body","JSON","stringify","then","response","status","Alert","alert","text","onPress","LoginScreen","json","token","setItem","value","parse","e","catch","error","changeWidth","interpolate","inputRange","outputRange","changeScale","styles","container","paddingTop","margin","btnEye","iconEye","width","button1","image1","text1","circle1","transform","scale","forgot","theme","titleStyle","color","StyleSheet","create","container1","flex","top","alignItems","justifyContent","backgroundColor","height","borderRadius","zIndex","marginTop","borderWidth","borderColor","alignSelf","paddingBottom","position","right","tintColor"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\n//import Dimensions from 'dimensions';\r\nimport {\r\n  StyleSheet,\r\n  TouchableOpacity,\r\n  Text,\r\n  Animated,\r\n  Easing,\r\n  Image,\r\n  Alert,\r\n  View,\r\n  KeyboardAvoidingView,\r\n} from 'react-native';\r\nimport {Actions, ActionConst} from 'react-native-router-flux';\r\nimport {Button,ThemeProvider} from 'react-native-elements';\r\nimport { connect } from \"react-redux\";\r\nimport 'localstorage-polyfill';\r\n\r\nimport UserInput from './UserInput';\r\nimport usernameImg from '../../image/username.png';\r\nimport passwordImg from '../../image/password.png';\r\nimport eyeImg from '../../image/eye_black.png';\r\n\r\nimport spinner from '../../image/loading.gif';\r\n\r\n// const DEVICE_WIDTH = Dimensions.get('window').width;\r\n// const DEVICE_HEIGHT = Dimensions.get('window').height;\r\nconst MARGIN = 40;\r\n\r\nexport default class Temp extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      isLoading: false,\r\n      showPass: true,\r\n      press: false,\r\n      Username: '',\r\n      Password: \"\",\r\n    };\r\n\r\n    this.buttonAnimated = new Animated.Value(0);\r\n    this.growAnimated = new Animated.Value(0);\r\n    this._onPress = this._onPress.bind(this);\r\n    this._forgot = this._forgot.bind(this);\r\n    \r\n    this.showPass = this.showPass.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if(localStorage.getItem(\"key2\")){\r\n      Actions.Location2();\r\n    }\r\n  }\r\n\r\n  showPass() {\r\n\r\n    // const {username} = this.state;\r\n    // const {password} = this.state;\r\n    // console.log('fuck');\r\n    // console.log(\"username: \",this.state.username);\r\n    // console.log(\"password: \",this.state.password);\r\n\r\n    // console.log(this.state.showPass);\r\n    // console.log(this.state.showPass);\r\n\r\n    this.state.press === false\r\n      ? this.setState({showPass: false, press: true})\r\n      : this.setState({showPass: true, press: false});\r\n  }\r\n\r\n  _forgot() {\r\n    console.log('call')\r\n    const {Username} = this.state\r\n    //var email_address = this.state.Username;\r\n    console.log(Username)\r\n      console.log('pppppppp');\r\n      // sendEmail(\r\n      //     'pramithvidusara@gmail.com',\r\n      //     'Greeting!',\r\n      //     'I think you are fucked up how many letters you get.',\r\n      //     { cc: 'elon@tesla.com; elon@solarcity.com; elon@stanford.edu' }\r\n      // ).then(() => {\r\n      //     console.log('Our email successful provided to device mail ');\r\n      // });\r\n  }\r\n\r\n  _onPress() {\r\n\r\n    console.log('fuck');\r\n    console.log(\"username: \",this.state.Username);\r\n    console.log(\"password: \",this.state.Password);\r\n\r\n    if (this.state.isLoading) return;\r\n\r\n    var email_address = this.state.Username;\r\n    var password = this.state.Password;\r\n\r\n    const {Username} = this.state;\r\n    const {Password} = this.state;\r\n    //const {Time} = this.state;\r\n\r\n    fetch(\"http://192.168.43.133:3000/users/authenticate\",{\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Accept\": \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        password: Password,\r\n        email_address: Username,\r\n      })\r\n\r\n    })\r\n\r\n    .then(function(response) {\r\n      \r\n      console.log(\"ttttttttttttttttttt\")\r\n      console.log(response.status);\r\n      \r\n       if(response.status == 404){\r\n        console.log('comeeeeeee')\r\n        Alert.alert(\r\n          \"Login Failed\",\r\n          \"E-mail address is not registered!\",\r\n          [\r\n            { text: \"OK\", onPress: ()=> {Actions.LoginScreen();}  }\r\n          ]\r\n        )\r\n      } \r\n      if(response.status == 401){\r\n        console.log('failed2')\r\n        Alert.alert(\r\n          \"Login Failed\",\r\n          \"Incorrect password!\",\r\n          [\r\n            { text: \"OK\", onPress: ()=> {Actions.LoginScreen();} }\r\n          ]\r\n        )\r\n      }\r\n      else{\r\n        return response;\r\n      }\r\n    }).then(function(response) {\r\n      return response.json();\r\n    }).then(function(json) {\r\n      console.log('Request succeeded with JSON response:', json.token);\r\n        \r\n        // localStorage.setItem(\"key\", JSON.stringify(json.token))\r\n        localStorage.setItem(\"key2\",(json.token))\r\n        let value = localStorage.getItem(\"key2\");\r\n        console.log(value);\r\n        try {\r\n          value = JSON.parse(value);\r\n          //this.setState({ [key]: value });\r\n          console.log(value);\r\n        } catch (e) {\r\n          // handle empty string\r\n          //this.setState({ [key]: value });\r\n          console.log(value);\r\n        }\r\n        console.log('key');\r\n        console.log(value);\r\n\r\n        Alert.alert(\r\n          \"Login Successful\",\r\n          \"\",\r\n          [\r\n            { text: \"OK\", onPress: ()=> {Actions.Location2();}  }\r\n          ]\r\n        )\r\n\r\n    }).catch(function(error) {\r\n      console.log('Request failed:', error);\r\n    });\r\n  }\r\n\r\n  \r\n\r\n\r\n  render() {\r\n    const changeWidth = this.buttonAnimated.interpolate({\r\n      inputRange: [0, 1],\r\n      outputRange: [200 - MARGIN, MARGIN],\r\n    });\r\n    const changeScale = this.growAnimated.interpolate({\r\n      inputRange: [0, 1],\r\n      outputRange: [1, MARGIN],\r\n    });\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        <KeyboardAvoidingView behavior=\"padding\" >\r\n        <UserInput\r\n        style={{paddingTop: 1, margin: 1}}\r\n          source={usernameImg}\r\n          placeholder=\"Username\"\r\n          autoCapitalize={'none'}\r\n          returnKeyType={'done'}\r\n          autoCorrect={false}\r\n          onChangeText = {(Username) => this.setState({Username})}\r\n        />\r\n        <UserInput\r\n          source={passwordImg}\r\n          secureTextEntry={this.state.showPass}\r\n          placeholder=\"Password\"\r\n          returnKeyType={'done'}\r\n          autoCapitalize={'none'}\r\n          autoCorrect={false}\r\n          onChangeText = {(Password) => this.setState({Password})}\r\n        />\r\n        <TouchableOpacity\r\n          activeOpacity={0.7}\r\n          style={styles.btnEye}\r\n          onPress={this.showPass}>\r\n          <Image source={eyeImg} style={styles.iconEye} />\r\n        </TouchableOpacity>\r\n\r\n      </KeyboardAvoidingView>\r\n        <View >\r\n            <Animated.View style={{width: changeWidth}}>\r\n            <TouchableOpacity\r\n                style={styles.button1}\r\n                onPress={this._onPress}\r\n                activeOpacity={1}>\r\n                {this.state.isLoading ? (\r\n                <Image source={spinner} style={styles.image1} />\r\n                ) : (\r\n                <Text style={styles.text1}>LOGIN</Text>\r\n                )}\r\n            </TouchableOpacity>\r\n            <Animated.View\r\n                style={[styles.circle1, {transform: [{scale: changeScale}]}]}\r\n            />\r\n            </Animated.View>\r\n        </View>\r\n        <View style={styles.forgot}>\r\n          <ThemeProvider theme={theme}>\r\n          <Button  type=\"clear\" title=\"Forgot Password?\"\r\n            onPress={this._forgot}/>\r\n          </ThemeProvider>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst theme = {\r\n  Button: {\r\n    titleStyle: {\r\n      color: 'white',\r\n    },\r\n  },\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container1: {\r\n    flex: 1,\r\n    top: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n  },\r\n  button1: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: '#F035E0',\r\n    height: MARGIN,\r\n    borderRadius: 20,\r\n    zIndex: 100,\r\n  },\r\n  circle1: {\r\n    height: MARGIN,\r\n    width: MARGIN,\r\n    marginTop: -MARGIN,\r\n    borderWidth: 1,\r\n    borderColor: '#F035E0',\r\n    borderRadius: 100,\r\n    alignSelf: 'center',\r\n    zIndex: 99,\r\n    backgroundColor: '#F035E0',\r\n  },\r\n  text1: {\r\n    color: 'white',\r\n    backgroundColor: 'transparent',\r\n  },\r\n  image1: {\r\n    width: 24,\r\n    height: 24,\r\n  },\r\n  container: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    margin: 0,\r\n    paddingBottom:180,\r\n    paddingTop:50,\r\n  },\r\n  btnEye: {\r\n    position: 'absolute',\r\n    top: 86,\r\n    right: 28,\r\n  },\r\n  iconEye: {\r\n    width: 25,\r\n    height: 25,\r\n    tintColor: 'rgba(0,0,0,0.2)',\r\n  },\r\n  forgot: {\r\n    paddingTop: 40,\r\n  }\r\n});"]},"metadata":{},"sourceType":"module"}